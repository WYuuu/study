# Table of Contents

* [实战1：实现优先级查找数据](#实战1实现优先级查找数据)


责任链模式通过将所有的transmitters 放在一个链里面来解决这个问题。每一个环都在链里并且检查Message对象来决定是否承担责任。如果链里的某一个环能够处理Message对象，那么它处理。如果不能，请求传递到下一个环。这个过程一直持续到有环处理或者到了链中最后一个环。



# 实战1：实现优先级查找数据



+ 定义优先级抽象类

  + 定义过滤方法

  ```java
  public abstract class Priority<T> {
  
      protected T param;
  
      public Priority(T param) {
          this.param = param;
      }
  
      /**
       * 定义过滤方法
       * @param dataList 原始数据
       * @param priorityChain 责任链
       * @return 最终结果
       */
      public abstract T doFilter(List<T> dataList, PriorityChain<T> priorityChain);
  }
  ```

  

+ 定义优先级链

  + 定义链表
  + 定义过滤方法

  ```java
  public class PriorityChain<T> extends Priority<T>{
  
      private List<Priority<T>> priorityChainList = Lists.newArrayList();
  
      private int index = 0;
  
      public PriorityChain(T param) {
          super(param);
      }
  
      public PriorityChain() {
          super(null);
      }
  
      public PriorityChain<T> addPriorityChain(Priority<T> priority){
          priorityChainList.add(priority);
          return this;
      }
  
      @Override
      public T doFilter(List<T> dataList, PriorityChain<T> priorityChain) {
          if(index==priorityChainList.size()|| CollectionUtils.isEmpty(dataList)){
              return null;
          }
          Priority<T> priority = priorityChainList.get(index);
          return priority.doFilter(dataList,priorityChain);
      }
  }
  ```

  

+ 定义优先级实现类

  ```java
  public  class Priority11 extends Priority<Test> {
  
  
      public Priority11(Test param) {
          super(param);
      }
  
      @Override
      public Test doFilter(List<Test> dataList, PriorityChain<Test> priorityChain) {
          return null;
      }
  }
  
  ```

  

+ 定义优先级上下文

  + 创建优先级链表
  + 进行链表过滤

  ```java
  public class PriorityContext {
  
  
      public static PriorityChain<Test> create(Test test){
          return new PriorityChain<Test>().addPriorityChain(new Priority11(test));
      }
  
  
      public static void main(String[] args) {
          List<Test> dataList = Lists.newArrayList();
          Test test = new Test();
          PriorityChain<Test> testPriorityChain = PriorityContext.create(test);
          testPriorityChain.doFilter(dataList,testPriorityChain);
      }
  
  }
  
  ```

  
