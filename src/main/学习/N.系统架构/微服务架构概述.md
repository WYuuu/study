# Table of Contents

* [什么是一体化架构](#什么是一体化架构)
* [什么是微服务架构](#什么是微服务架构)
  * [缺点](#缺点)
* [微服务拆分原则](#微服务拆分原则)
* [参考资料](#参考资料)




# 什么是一体化架构



一体化架构顾名思义，将应用各层打成一个包来部署。为了让代码正常工作，一体化应用的所有组件缺一不可。

以典型的3层传统web应用为例，该应用由用户界面、数据库、服务器端应用组成。这里的服务器端应用被称为monolith（一体化或者单体），包含表现、业务层、数据层。所有代码都存在于同一个代码库中。为了让代码工作起来，它被部署成为一个单元。**任何一个小的改动变化，都需要重新构建和部署整个应用。**



缺点：

1. 开发迭代

2. 单体瓶颈性能

3. 难以扩展

   > 如果我们需要争对单一功能进行扩展，一体化架构只能部署**整体**

4. 故障级联
5. 陷入某种技术语言



# 什么是微服务架构

微服务架构是一种架构风格，整个应用被划分并设计以【**业务域**】为模型的松散耦合的独立服务。服务中的**微**，非常具有欺骗性，事实上他没有规定服务的规模有多小或多大。

这里的重点是**每个独立的服务都有一个业务边界**，可以独立开发、测似、部署、监控和扩展，甚至可以用不同的语言







## 缺点

1. 运维复杂度较高
2. 分区数据库带来的数据一致性问题
3. 服务之间调用链路过长



# 微服务拆分原则



可以按业务领域、功能、重要程度进行划分。

- 可以按业务领域，把用户、社区、商品信息、消息等模块等划分。
- 单一功能职责，按功能拆分，比如订单、支付、物流、权限。
- 按重要程度划分，区分核心和非核心功能，比如支付、订单就是核心功能。





微服务拆分的核心需求：

1. 高内聚，低耦合，尽可能的减少微服务间的调用，尽可能的减少分布式事务；
2. 微服务应该足够小，能够分配一个团队（5人左右）去实现，但也不能过细。







# 参考资料

https://mp.weixin.qq.com/s?__biz=MzU2NjIzNDk5NQ==&mid=2247507924&idx=1&sn=84fc334d855afe70da0cbc56142c36e0&forceh5=1&ascene=56&devicetype=iOS13.1.1&version=18001233&nettype=3G+&abtest_cookie=AAACAA%3D%3D&lang=zh_CN&fontScale=100&exportkey=AT67kL6uWOwch%2BDZoojUzMQ%3D&pass_ticket=7TH%2F0K6ZIgLKFBqBy6ca2Xm8Ebcx0awLXZz1lkv%2BPlMOg%2BwamSjz2YvJWw8VI1js&wx_header=3
